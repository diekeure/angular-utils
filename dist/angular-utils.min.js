!function(){"use strict";angular.module("dk.utils",[])}(),function(){"use strict";function e(){return{link:function(e,t,r){r.$observe("dkBackground",function(e){if(e)return"data:"===e.substr(0,5)?void(t.style.backgroundImage=e):void(t[0].style.backgroundImage='url("'+e+'")')})},restrict:"A"}}angular.module("dk.utils").directive("dkBackground",e)}(),function(){"use strict";function e(){return{require:"ngModel",link:function(e,t,r,n){n.$validators.dkBtwNummer=function(e){if(void 0===e||null===e||""===e)return!0;e=e.toString().toUpperCase();var t=new RegExp("BE[0-9]{10}");return t.test(e)&&97-parseInt(e.substr(3,7))%97===parseInt(e.substr(-2))}},restrict:"A"}}angular.module("dk.utils").directive("dkBtwNummer",e)}(),function(){"use strict";function e(){return{require:"ngModel",scope:{otherModelValue:"=dkCompareTo"},link:function(e,t,r,n){n.$validators.dkCompareTo=function(t){return t===e.otherModelValue},e.$watch("otherModelValue",function(){n.$validate()})},restrict:"A"}}angular.module("dk.utils").directive("dkCompareTo",e)}(),function(){"use strict";function e(e){return{link:function(t,r,n){n.$observe("dkSrc",function(t){if(t)return"data:"===t.substr(0,5)?void r.attr("src",t):void e.get(t).then(function(){r.attr("src",t)})})},restrict:"A"}}angular.module("dk.utils").directive("dkSrc",e)}(),function(){"use strict";function e(e,t){return{require:"ngModel",scope:{settings:"=dkUnique"},link:function(r,n,i,u){u.$asyncValidators.dkUnique=function(n){if(void 0===n||""===n)return e.when();if(!r.settings.resource){var i=t.get("toastr"),u="Resource missing";return i.error(u),e.reject(u)}var o=e.defer();if(r.settings.resource.checkUnique)r.settings.resource.checkUnique({key:r.settings.key||0,property:r.settings.property,value:n}).$promise.then(function(e){e.unique?o.resolve():o.reject()},function(){o.resolve()});else{var s=r.settings.key?{id:{neq:r.settings.key}}:{};s[r.settings.property]=n,r.settings.resource.findOne({filter:{where:s}}).$promise.then(function(){o.reject()},function(){o.resolve()})}return o.promise}},restrict:"A"}}angular.module("dk.utils").directive("dkUnique",e)}();