!function(){"use strict";function e(){return{require:"ngModel",scope:{otherModelValue:"=dkCompareTo"},link:function(e,t,r,n){n.$validators.dkCompareTo=function(t){return t===e.otherModelValue},e.$watch("otherModelValue",function(){n.$validate()})},restrict:"A"}}angular.module("dk.utils",[]).directive("dkCompareTo",e)}(),function(){"use strict";function e(e){return{link:function(t,r,n){n.$observe("dkSrc",function(t){return t?"data:"===t.substr(0,5)?void r.attr("src",t):void e.get(t).success(function(){r.attr("src",t)}):void 0})},restrict:"A"}}angular.module("dk.utils").directive("dkSrc",e)}(),function(){"use strict";function e(e,t){return{require:"ngModel",scope:{settings:"=dkUnique"},link:function(r,n,i,o){o.$asyncValidators.dkUnique=function(n){if(void 0===n||""===n)return e.when();if(!r.settings.resource){var i=t.get("toastr"),o="Resource missing";return i.error(o),e.reject(o)}var s=e.defer();if(r.settings.resource.checkUnique)r.settings.resource.checkUnique({key:r.settings.key||0,property:r.settings.property,value:n}).$promise.then(function(e){e.unique?s.resolve():s.reject()},function(){s.resolve()});else{var u=r.settings.key?{id:{neq:r.settings.key}}:{};u[r.settings.property]=n,r.settings.resource.findOne({filter:{where:u}}).$promise.then(function(){s.reject()},function(){s.resolve()})}return s.promise}},restrict:"A"}}angular.module("dk.utils").directive("dkUnique",e)}();